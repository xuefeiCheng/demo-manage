_jsload2&&_jsload2('route', 'var jh={web:"http://api.map.baidu.com/direction?",android:"bdapp://map/direction?",ios:"baidumap://map/direction?"};function kh(a){this.city=a.city;this.Rv=a.start;this.cv=a.end;this.xr=a.It;this.moreResultsUrl=a.url;this.taxiFare=a.qO||p;this.sU=a.jO||id;this.wR=a.WK||id}x.extend(kh.prototype,{rj:u("Rv"),fh:u("cv"),EX:u("sU"),aX:u("wR"),ux:function(){return this.xr.length},pf:function(a){if(this.xr[a])return this.xr[a]}});function lh(a){kh.call(this,a);this.policy=a.$c}x.ua(lh,kh,"DrivingRouteResult"); function mh(a){kh.call(this,a)}x.ua(mh,kh,"WalkingRouteResult");function nh(a){kh.call(this,a);this.policy=a.$c}x.ua(nh,kh,"TransitRouteResult");var oh=kh.prototype;T(oh,{getStart:oh.rj,getEnd:oh.fh,getStartStatus:oh.EX,getEndStatus:oh.aX,getNumPlans:oh.ux,getPlan:oh.pf});function ph(a){this.dk=a.hF.slice(0);this.ag=a.md||0;this.Rq=a.duration||0;this.fR=a.qW||[]}x.extend(ph.prototype,{hh:function(a){if(this.dk[a])return this.dk[a]},Ys:function(){return this.dk.length},Te:function(a){return a===q?this.ag:qh(this.ag)},Ts:function(a){return a===q?this.Rq:rh(this.Rq,"nav")},ZW:u("fR")});var sh=ph.prototype;T(sh,{getNumRoutes:sh.Ys,getRoute:sh.hh,getDistance:sh.Te,getDuration:sh.Ts,getDragPois:sh.ZW});function th(a){ph.call(this,a);this.Ri=a.CY;this.gl=a.description;this.Rq=a.duration||0}x.ua(th,ph,"TransitRoutePlan"); x.extend(th.prototype,{tx:function(){return this.Ri.length},ND:function(a){if(this.Ri[a])return this.Ri[a]},eh:function(a){return a===q?O.DN(this.gl):this.gl},Ts:function(a){return a===q?this.Rq:rh(this.Rq,"bustime")},kX:function(){for(var a="",b=this.Ri.length-1,c=0;c<b;c++)this.Ri[c]&&this.Ri[c].title&&(a+=this.lL(this.Ri[c].title)+" \\u2192 ");return a+=this.lL(this.Ri[b].title)},lL:function(a){return a.substring(0,a.indexOf("("))},QX:function(){for(var a=0,b=this.dk.length,c=0;c<b;c++)a+=this.dk[c].Te(q); return qh(a)}});var uh=th.prototype;T(uh,{getNumLines:uh.tx,getLine:uh.ND,getNumRoutes:uh.Ys,getRoute:uh.hh,getDistance:uh.Te,getDuration:uh.Ts,getDescription:uh.eh});function vh(a){this.Sr=a.Aj&&a.Aj.slice(0)||[];this.ag=a.md||0;this.Sj=a.index||0;this.zr=a.ia.slice(0);this.eB=a.RE||0;this.ZT=a.vy;0===this.ag&&2<this.zr.length&&(this.zr.length=2)}x.extend(vh.prototype,{vx:function(){return this.Sr.length},DL:function(a){if(this.Sr[a])return this.Sr[a]},Te:function(a){return a===q?this.ag:qh(this.ag)},LD:u("Sj"),cp:u("Ti"),te:u("zr"),ep:u("ZT"),vX:u("eB")});var wh=vh.prototype; T(wh,{getNumSteps:wh.vx,getStep:wh.DL,getDistance:wh.Te,getIndex:wh.LD,getPolyline:wh.cp,getPath:wh.te,getRouteType:wh.ep});function xh(a){this.title=a.title;this.uid=a.uid;this.type=a.type;this.Wi=a.s_.slice(0);this.zr=a.ia.slice(0);this.ag=a.md||0;this.jT=a.UY||0;this.Bd=a.status||{}}x.extend(xh.prototype,{qX:u("jT"),KD:function(){return this.Wi[0]},JD:function(){return this.Wi[1]},te:u("zr"),cp:u("Ti"),Te:function(a){return a===q?this.ag:qh(this.ag)},fp:u("title")});var yh=xh.prototype;T(yh,{getNumViaStops:yh.qX,getGetOnStop:yh.KD,getGetOffStop:yh.JD,getPath:yh.te,getPolyline:yh.cp,getDistance:yh.Te,getTitle:yh.fp});function zh(a){this.Uh=a.point;this.Sj=a.index;this.gl=a.description;this.ag=a.md||0;this.WT=a.f4||0;this.eB=a.RE||0}x.extend(zh.prototype,{ha:u("Uh"),LD:u("Sj"),eh:function(a){return a===q?O.DN(this.gl):this.gl},Te:function(a){return a===q?this.ag:qh(this.ag)},S2:u("WT"),vX:u("eB")});var Ah=zh.prototype;T(Ah,{getPosition:Ah.ha,getIndex:Ah.LD,getDescription:Ah.eh,getDistance:Ah.Te});x.extend(Bd.prototype,{va:function(a){window.RouteAddrInst=this;var b={},a=this.fc=this.gZ(this.fc,a);if(a.result){var c=this.ce=a.content.tpList.length+1,d=a.content,e=[],f=[],g=["sel_n","sel_n1","sel_y","sel_x","sel_x1"],i=[-1,-1],k=[],f=[];this.ku=[a.current_city.code,a.current_city.code];tempCode=a.current_city.code;for(var l=0;l<c+1;l++){var m=p;e.push([]);k.push("");f.push("");0==l?a.result.start_city&&(this.ku[0]=a.result.start_city.code||a.result.start_city[0].code,tempCode=this.ku[0]):a.result.end_city&& (this.ku[l]=a.result.end_city.code||a.result.end_city[l-1].code,tempCode=this.ku[l]);m=this.ki(l);if(0<a.result.count[l]&&1!=a.result.city_list[l]){13!=a.result.type&&24!=a.result.type&&(f[l]=\'<a href="javascript:void(0)" ></a>\');e[l].push(\'<div id="RADiv_ResItem\'+l+\'" class="sel_body_body_div sel_body_resitem">\');var n=[0,9];10>m.length&&(n[1]=m.length-1);e[l].push(this.KM(l,n));10<a.result.count[l]&&(e[l].push(\'<div id="RADiv_PAGE\'+l+\'" style="height:20px;" class="sel_body_body_page"></div>\'),this.zO[l]= Math.ceil(a.result.count[l]/10),this.js[l]=1);e[l].push("</div>");1==a.result.prio_flag[l]?(i[l]=2,this.Na[l].n=m[0].name,this.Na[l].c=tempCode,this.Na[l].u=m[0].uid,n=S.zb(O.vb(m[0].geo,o).point),this.Na[l].x=n.lng,this.Na[l].y=n.lat,this.Na[l].t=m[0].poiType,this.vg=n=this.HJ(this.k.ka.map,n,m[0].name,l),this.CE.push(n.point),k[l]=m[0].name):i[l]=0}}for(var t,v,l=0;l<i.length;l++)if(m=i[l],3==m&&!t)this.fj=l,v&&(i[v-1]=1),t=l+1;else if(t){if(0==m||3==m)i[l]=m+1}else 0==m&&!v?(this.fj=l,v=l+1):v&& 0==m&&(i[l]=1);b.startPointClass=g[i[0]];this.Ky=a.result.s_query?a.result.s_query:a.result.s_wd;b.startPoint=""==k[0]?this.Ky:k[0];b.startBody=e[0].join("");b.endPointClass=g[i[c]];this.dx=a.result.e_query?"string"==typeof a.result.e_query?a.result.e_query:a.result.e_query[c-1]:"string"==typeof a.result.e_wd?a.result.e_wd:a.result.e_wd[c-1];b.endPoint=""==k[c]?this.dx:k[c];b.endBody=e[c].join("");b.startButton=f[0];b.endIndex=c;b.endButton=f[c];this.BO=[];t=[""];for(l=0;l<d.tpList.length;l++)v=l+ 1,c=k[v],""==c&&(c=a.result.Y1[l]),this.BO.push(c),t.push([\'<div id="RouteAddress_DIV\'+v+\'" class="\'+g[i[v]]+\'">\',\'  <div class="sel_body">\',\'    <div class="sel_body_top"  onclick="RouteAddrInst.showLst(\'+v+\')">\',\'     <div class="sel_body_title">\\n        <div class="sel_body_sign"></div>\',\'        <div class="sel_body_name">\\u9014\\u7ecf\\u70b9\'+v+\'\\uff1a<b id="B_PointName\'+v+\'">\'+c+"</b></div>","      </div>",\'     <div id="RD_TOP_BUT\'+v+\'" class="sel_body_button">\'+f[v]+"</div>","    </div>",\'    <div class="sel_body_body" id="RADIV_BODY\'+ v+\'">\'+e[v].join("")+"</div>","  </div>\\n</div>"].join("\\n"));b.tpList=t.join("");return this.D_(b)}},YB:function(){var a;x.$("RouteAddress_DIV0")&&(a=x.$("RouteAddress_DIV0").getElementsByTagName("tr"),this.MN(a));x.$("RouteAddress_DIV1")&&(a=x.$("RouteAddress_DIV1").getElementsByTagName("tr"),this.MN(a));var b=this;this.Cb&&this.Cb.addEventListener("open",function(){var a=x.$("selInfoWndBtn");x.M(a,"click",function(){var c=a.getAttribute("data-uid").split("_");b.itmSelect(c[0],c[1])});x.M(a,"mouseover", function(){b._selBtnOver(a)});x.M(a,"mousedown",function(){b._selBtnDown(a)});x.M(a,"mouseout",function(){b._selBtnOut(a)})});var c,d;x.$("RouteAddress_DIV0")&&(c=x.$("RouteAddress_DIV0").firstChild.firstChild,x.M(c,"click",function(){var a=c.getAttribute("data-uid");b.showLst(a)}));x.$("RouteAddress_DIV1")&&(d=x.$("RouteAddress_DIV1").firstChild.firstChild,x.M(d,"click",function(){var a=d.getAttribute("data-uid");b.showLst(a)}))},MN:function(a){var b=this;this.Gb(a,function(a,d){x.M(d,"mouseover", function(a){var c=d.getAttribute("data-uid").split("_");n2=parseInt(c[1],10);gg=parseInt(c[2],10);b._lstMouseOver(this,0,c[0],gg-n2,a)});x.M(d,"mouseout",function(a){var c=d.getAttribute("data-uid").split("_");n2=parseInt(c[1],10);gg=parseInt(c[2],10);b._lstMouseOut(this,0,c[0],gg-n2,a)});x.M(d,"click",function(a){var c=d.getAttribute("data-uid").split("_"),e=parseInt(c[0],10);n2=parseInt(c[1],10);gg=parseInt(c[2],10);b.select(e,gg,a)});var e=d.childNodes[2].getElementsByTagName("div")[0];x.M(e,"click", function(){var a=e.getAttribute("data-uid").split("_");b.itmSelect(a[0],a[1])});x.M(e,"onmouseover",function(){b._selBtnOver(e)});x.M(e,"onmouseout",function(){b._selBtnOut(e)});x.M(e,"onmousedown",function(){b._selBtnDown(e)})})},gZ:function(a,b){a.content||(a.content={start:[],end:[]});a.content.tpList=[];if(19==a.result.type){this.hZ(a,b);var c=a.content,d=[],e=c.length;a.content={start:[],end:[]};if(2<e)for(var f=1;f<e-1;f++)d.push(c[f]);a.content.end=c[e-1];a.content.tpList=d;a.content.start= c[0]}return a},hZ:function(a,b){var c={},d,e=0,f=0,g=[],i,k=a.result;d=[];c.city_list=[];c.count=[];c.current_null=[];c.e_query=[];c.e_wd=[];c.end_city=[];c.wd2=[];c.prio_flag=[];c.sug_index=[];c.total=[];c.s_wd="";c.s_query="";this.Cw=[];k.e_wd||(k.e_wd=[],k.e_query=[]);d=this.tN(b.start);i=d.type;c.s_wd=1==i?d.tb:k.s_wd;c.s_query=1==i?d.tb:k.s_query;1==i&&(this.Na[e].o=c.s_wd,this.Na[e].x=d.point.split(",")[0],this.Na[e].y=d.point.split(",")[1]);this.Cw.push(2==i);c.total.push(1==i?1:k.total[f]); c.count.push(1==i?1:k.count[f]);c.current_null.push(1==i?0:k.current_null[f]);c.prio_flag.push(1==i?1:k.prio_flag[f]);c.sug_index.push(1==i?"":k.sug_index[f]);g.push(1==i?[{name:d.tb,geo:"1|"+d.point+";"+d.point+"|"+d.point+";"}]:a.content[f]);c.city_list.push(1==i?0:k.city_list[f]);c.wd2.push(1==i?"":k.wd2[f]);2==i&&f++;e++;d=decodeURIComponent(b.end).split("to:");for(var l=0,m;m=d[l];l++){m=this.tN(m);i=m.type;2==i&&m.uid&&m.point&&(i=1);this.Cw.push(2==i);var n=2==i?m.tb:0==f?k.s_wd:k.e_wd[f-1]; c.e_wd.push(n);c.e_query.push(n);c.end_city.push(1==i?a.current_city:0==f?k.start_city:k.end_city[f-1]);1==i&&(this.Na[e].o=c.s_wd,this.Na[e].x=m.point.split(",")[0],this.Na[e].y=m.point.split(",")[1]);m.vj&&(this.lY(e-1,{oy:c.e_wd[e-1],$r:c.wd2[e],point:1==i?O.zL(m.point):p,uid:m.uid}),this.mu.push({oy:c.e_wd[e-1],$r:c.wd2[e],point:1==i?O.zL(m.point):p,uid:m.uid}));c.total.push(1==i?1:k.total[f]);c.count.push(1==i?1:k.count[f]);c.current_null.push(1==i?0:k.current_null[f]);c.prio_flag.push(1==i? 1:k.prio_flag[f]);c.sug_index.push(1==i?"":k.sug_index[f]);g.push(1==i?[{name:m.tb,geo:"1|"+m.point+";"+m.point+"|"+m.point+";"}]:a.content[f]);c.city_list.push(1==i?0:k.city_list[f]);c.wd2.push(1==i?"":k.wd2[f]);2==i&&f++;e++}x.extend(a.result,c);a.content=g},lY:function(a,b){var c=x.extend({},b);if(this.lu.length>a)this.lu[a]=b;else if(this.lu.length==a)this.lu.push(b);else return;this.lu[a]=c},tN:function(a){a=decodeURIComponent(a);a=a.split("$$");return{type:a[0],uid:a[1],point:a[2],tb:a[3],f3:a[4], o3:a[5],g2:a[6],vj:a[7]}},ki:function(a){return 0==a?this.fc.content.start:a==this.ce?this.fc.content.end:this.fc.content.tpList[a-1]},KM:function(a,b,c){this.fi=-1;var c=c?c:this.ki(a),d=[];d.push(\'<div id="RA_ResItem_\'+a+\'"><table border="0" cellspacing="0" cellpadding="0" style="width:100%">\');for(var e=b[0];e<=b[1];e++){d.push(\'<tr  onmouseover="RouteAddrInst._lstMouseOver(this, 0,\'+a+", "+(e-b[0])+\', event)" onmouseout="RouteAddrInst._lstMouseOut(this, 0,\'+a+", "+(e-b[0])+\', event)" onclick="RouteAddrInst.select(\'+ a+","+e+\', event)"  filter = "item" data-uid="\'+a+"_"+b[0]+"_"+e+\'"  ><th><div title="\\u5728\\u56fe\\u4e0a\\u663e\\u793a\\u8be5\\u70b9" class="icon iconbg" id="no_\'+a+"_"+(e-b[0]+1)+\'"></div></th>\');var f=0==a?"\\u9009\\u4e3a\\u8d77\\u70b9":a==this.ce?"\\u9009\\u4e3a\\u7ec8\\u70b9":"\\u9009\\u4e3a\\u9014\\u7ecf\\u70b9";d.push(\'<td style="word-break:break-all;padding-right:24px">\');d.push(\'<a href="javascript:void(0)">\'+c[e].name+"</a>");c[e].addr&&""!=c[e].addr&&(d.push("<div>"),0==c[e].poiType?d.push(\'<span style="color:#999">\\u5730\\u5740: \'+ c[e].addr+"</span>"):1==c[e].poiType?d.push(\'<span style="color:#999">\\u9014\\u7ecf\\u516c\\u4ea4\\u8f66\\uff1a</span>\'+c[e].addr.split(";").join("; ")):3==c[e].poiType&&d.push(\'<span style="color:#999">\\u9014\\u7ecf\\u5730\\u94c1\\uff1a</span>\'+c[e].addr.split(";").join("; ")),d.push("</div>"));d.push("</td>");d.push(\'<td style="vertical-align:middle;width:106px"><div tid="selBtn_\'+a+"_"+e+\'" class="selBtn"  onclick="RouteAddrInst.itmSelect(\'+a+","+e+\');return false;" onmouseover="RouteAddrInst._selBtnOver(this)" onmouseout="RouteAddrInst._selBtnOut(this)" onmousedown="RouteAddrInst._selBtnDown(this)" data-uid = "\'+ a+"_"+e+\'"  >\'+f+"</div>");d.push(\'<a data-uid="\'+c[e].uid+\'" href="javascript:void(0);" class="list_street_view_poi" style="visibility:hidden"><img src="/static/images/transparent.gif" ></a>\');d.push("</td>");d.push("</tr>")}d.push("</table></div>");return d.join("")},HJ:function(a,b,c,d,e){0==d?a=V.xo(a,b,c,Bh):d==this.ce?a=V.xo(a,b,c,Ch):(c=this.mu[d-1],c.point=b,e&&(c.uid=e),a=V.MJ(a,b,d-1));return a},D_:function(a){var b=[];b.push(\'<div class="RouteAddressOuterBkg">\');b.push(\'<div class="RouteAddressTip"><span>\\u8bf7\\u9009\\u62e9\\u51c6\\u786e\\u7684\\u8d77\\u70b9\\u3001\\u9014\\u7ecf\\u70b9\\u6216\\u7ec8\\u70b9</span></div>\'); b.push(\'<div class="RouteAddressInnerBkg">\');b.push(\'<div id="pos5" style="display:none"></div>\');b.push(\'<div id="RouteAddress_DIV0" class="\'+a.startPointClass+\'"> \');b.push(\'<div class="sel_body">\');b.push(\'<div class="sel_body_top" data-uid="0" onclick="RouteAddrInst.showLst(0)" >\');b.push(\'<div class="sel_body_title">\');b.push(\'<div class="sel_body_sign"></div>\');b.push(\'<div class="sel_body_name">\\u8d77\\u70b9\\uff1a<b id="B_PointName0">\'+a.startPoint+"</b></div>");b.push("</div>");b.push(\'<div id="RD_TOP_BUT0" class="sel_body_button">\'+ a.startButton+"</div>");b.push("</div>");b.push(\'<div class="sel_body_body" id="RADIV_BODY0">\'+a.startBody+"</div>");b.push("</div>");b.push("</div>");b.push(a.tpList);b.push(\'<div id="RouteAddress_DIV\'+a.endIndex+\'" class="\'+a.endPointClass+\'">\');b.push(\'<div class="sel_body">\');b.push(\'<div class="sel_body_top" data-uid=\'+a.endIndex+\' onclick="RouteAddrInst.showLst(\'+this.ce+\')" >\');b.push(\'<div class="sel_body_title">\');b.push(\'<div class="sel_body_sign"></div>\');b.push(\'<div class="sel_body_name">\\u7ec8\\u70b9\\uff1a<b id="B_PointName\'+ a.endIndex+\'">\'+a.endPoint+"</b></div>");b.push("</div>");b.push(\'<div id="RD_TOP_BUT\'+a.endIndex+\'" class="sel_body_button">\'+a.endButton+"</div>");b.push("</div>");b.push(\'<div class="sel_body_body" id="RADIV_BODY\'+a.endIndex+\'">\'+a.endBody+"</div>");b.push("</div>");b.push("</div>");b.push(\'<div id="pos6" style="display:none"></div>\');b.push("</div>");b.push("</div>");return b.join("")},showLst:function(a){this.fj=a;var b=this.fc.content.tpList.length+1,c=this.ki(a);if(!c||!(1==c.length&&c[0].eE&& 1==c[0].eE)){var d=this.js,e=x.$("RouteAddress_DIV"+a).className;if(!("sel_n"==e||"sel_x"==e||this.Cw&&!this.Cw[a])){if("sel_n1"==e||"sel_y"==e||"sel_x1"==e){for(var f=0;f<=b;f++){var g=x.$("RouteAddress_DIV"+f);ia.Dc("B_PointName"+f).innerHTML=this.XW(f);"sel_x"==g.className?g.className="sel_x1":"sel_n"==g.className&&(g.className="sel_n1")}this.jC();this.vg&&(this.map.Ub(this.vg),this.vg=p);"sel_y"==e&&(this.Na[a]={o:"",Cd:0,tn:0,x:0,y:0,pa:-1},this.Hp[a]=0);0>=this.fc.result.count[a]?x.$("RouteAddress_DIV"+ a).className="sel_x":(x.$("RouteAddress_DIV"+a).className="sel_n",1!=this.fc.result.city_list[a]&&(b=10*(d[a]-1)+9,c.length<b+1&&(b=c.length-1),this.zo(a,[10*(d[a]-1),b])))}this.fi=-1}}},sB:function(a,b){var c;x.$("RA_ResItem_"+a)&&(c=x.$("RA_ResItem_"+a).childNodes[0]);if(c&&(c=c.rows[b]))c.style.backgroundColor="#F4F4F4",c.getElementsByTagName("td")[1].childNodes[0].style.visibility="visible",c.getElementsByTagName("th")[0].childNodes[0].style.backgroundPosition=24*-b+"px -32px";this.Sf.length> b&&(this.Sf[b].Vb(new pc(F.$F,F.bP,{offset:F.aP,imageOffset:new L(-F.ZO*b,-F.$O),infoWindowOffset:F.ZF})),this.bJ(this.Sf[b],o,o))},_lstMouseOver:function(a,b,c,d){a=this.k.ka.map;this.fi!=d&&(a.Wc(),this.sB(c,d))},_lstMouseOut:function(a,b,c,d){this.fi!=d&&this.aw(c,d)},aw:function(a,b){var c=p;x.$("RA_ResItem_"+a)&&(c=x.$("RA_ResItem_"+a).childNodes[0]);c&&(c=c.rows[b],c.style.backgroundColor="#ffffff",c.getElementsByTagName("td")[1].childNodes[0].style.visibility="",c.getElementsByTagName("th")[0].childNodes[0].style.backgroundPosition= 24*-b+"px -64px");this.Sf.length>b&&(this.Sf[b].Vb(new pc(F.$F,F.cG,{offset:F.t0,imageOffset:new L(-F.bG*b,-F.aG),infoWindowOffset:F.s0})),this.bJ(this.Sf[b],q))},bJ:function(a,b,c){a&&a.yi&&(b&&!a.$H&&a.Yc&&a.Yc.style?(a.$H=o,c?a.yi(o,1000100):a.yi(o)):!b&&(a.Yc&&a.Yc.style)&&(delete a.$H,a.yi(q)))},select:function(a,b,c){if(2<arguments.length&&(c=c||window.X1,"selBtn"==(c.srcElement||c.target).className))return;var d=this.ki(a);this.map.Wc();d&&(this.Gp[0]!=this.Gp[1]&&this.vg&&this.map&&this.map.zh(this.Vm), this.oU(d,a,b),-1!=this.fi&&this.aw(a,this.fi),this.fi=b%10,this.sB(a,this.fi))},jC:function(){var a=this;(function c(){0!==a.Sf.length&&(a.map.Ub(a.Sf.shift()),c())})();(function d(){0!==a.Vm.length&&(a.Vm.shift(),d())})()},itmSelect:function(a,b){var c=this.map,d=this.ki(a);this.Na[a].n=d[b].name;this.Na[a].c=this.Gp[a];this.Na[a].u=d[b].uid;var e=S.zb(O.vb(d[b].geo_base64||d[b].geo,o).point);this.Na[a].x=e.lng;this.Na[a].y=e.lat;this.Na[a].t=d[b].poiType;x.$("B_PointName"+a)&&(x.$("B_PointName"+ a).innerHTML=d[b].name);this.vg=this.HJ(c,e,d[b].name,a);0!=a&&a!=this.ce&&(this.mu[a-1].oy=d[b].name);this.jC();if(this.nY())this.vg&&(c.Ub(this.vg),this.vg=p),this.submit();else{x.$("RouteAddress_DIV"+a)&&(x.$("RouteAddress_DIV"+a).className="sel_y");for(c=0;1<=this.ce;){c=(a+1)%(this.ce+1);x.$("RouteAddress_DIV"+c)&&x.$("RouteAddress_DIV"+c);break}if(0==this.Hp[c]){x.$("RouteAddress_DIV"+c)&&(x.$("RouteAddress_DIV"+c).className="sel_n");var d=this.js[c],e=10*(d-1)+9,f=this.ki(c);f.length<e+1&& (e=f.length-1);this.zo(c,[10*(d-1),e]);this.select(c,0)}else 2==this.Hp[c]?x.$("RouteAddress_DIV"+c)&&(x.$("RouteAddress_DIV"+c).className="sel_n"):x.$("RouteAddress_DIV"+c)&&(x.$("RouteAddress_DIV"+c).className="sel_x");this.fj=c}},submit:function(){var a=this.map,b=this.Na[0].c,c=this.Na[this.ce].c;if(b==c)var d=b;var e={},f=new M("onpoiselected");if(13==this.fc.result.type||23==this.fc.result.type||24==this.fc.result.type)23==this.fc.result.type&&b!=c?(e.c=d||this.fc.current_city.code,e.sc=b,e.ec= c,e.sn="1$$$$"+this.Na[0].x+","+this.Na[0].y+"$$"+this.Na[0].n+"$$$$$$",e.en="1$$$$"+this.Na[1].x+","+this.Na[1].y+"$$"+this.Na[1].o+"$$$$$$"):(e.c=d||this.fc.current_city.code,e.sc=b,e.ec=c,e.sn="1$$"+this.Na[0].u+"$$"+this.Na[0].x+","+this.Na[0].y+"$$"+this.Na[0].n+"$$$$$$",e.en="1$$"+this.Na[1].u+"$$"+this.Na[1].x+","+this.Na[1].y+"$$"+this.Na[1].n+"$$$$$$");else{for(var g=d="",i=this.ce,k=0,l=this.mu.length;k<l;k++)d+=this.Ax(this.mu[k]),g+=this.Na[k+1].c+"+to:";e.sc=b;e.ec=g+c;e.sn="1$$$$"+this.Na[0].x+ ","+this.Na[0].y+"$$"+this.Na[0].n+"$$$$$$";e.en=d+"1$$$$"+this.Na[i].x+","+this.Na[i].y+"$$"+this.Na[i].n+"$$$$$$"}e.sq=this.Ky;e.eq=this.dx;f.paramInfo=e;f.sType=this.wy;a.dispatchEvent(f)},Ax:function(a,b){var c=2,d="",e="",f="",g="0",i="";if(a.point||a.AN)c=1,e=a.point?a.point.lng+","+a.point.lat:a.AN.lng+","+a.AN.lat,a.uid&&(c=2,d=a.uid);a.oy&&(f=a.oy);a.$r&&(g="1",i=a.$r);isNaN(b)||(c=b);return c+"$$"+d+"$$"+e+"$$"+f+"$$"+g+"$$"+i+"$$$$1$$+to:"},nY:function(){for(var a=0;a<=this.ce;a++)if(""== this.Na[a].n&&!this.Na[a].x&&!this.Na[a].y||this.Na[a].n==j)return q;return o},_selBtnOver:function(a){a.style.backgroundPosition="-100px -81px"},_selBtnOut:function(a){a.style.backgroundPosition="-21px -81px"},_selBtnDown:function(a){a.style.backgroundPosition="-220px -81px";a.style.fontWeight="bold"},ra:function(){var a=this,b=this.ce;this.aO(this.fc);a.XN();for(var c=0;c<=b;c++)x.$("RADiv_PAGE"+c)&&(pg0=new td("RADiv_PAGE"+c,function(b){var c=a.fj,d=[10*(b-1),10*b-1];a.Mt[c]<d[1]+1&&(d[1]=a.Mt[c]- 1);x.K.remove=function(a){var a=x.$(a),b=a.parentNode;b&&b.removeChild(a)};x.$("RA_ResItem_"+c)&&(x.K.remove(x.$("RA_ResItem_"+c)),ia.K.Lx(x.$("RADiv_ResItem"+c),"AFTERBEGIN",a.KM(c,d)));a.zo(c,d,o);x.$("RADiv_ResItem"+c).scrollTop=0;a.js[c]=b},{Uf:5,Jd:a.zO[c],page:a.js[d]}));var d=[0,9],c=this.fj,e=ia.Dc("RouteAddress_DIV"+c),f=this.ki(c);"sel_n"==e.className?this.fc.content&&(this.fc.result.city_list&&1!=this.fc.result.city_list[c]&&f&&0<f.length)&&(f.length<d[1]+1&&(d[1]=f.length-1),a.zo(c,d), a.select(c,0)):this.vg&&"sel_x"==e.className&&this.map.zh(this.CE);for(var d=0;d<=b;d++)"sel_y"==x.$("RouteAddress_DIV"+d).className&&(c=this.ki(d),0<c.length&&(c[0].eE&&1==c[0].eE)&&(ia.Y3(ia.Dc("RD_TOP_BUT"+d),"sel_body_button"),x.$("RD_TOP_BUT"+d).innerHTML=""))},XO:function(){var a=this.ce;this.aO(this.fc);this.XN();for(var b=0;b<=a;b++){var c=this.fj,d=[0,9];this.Mt[c]<d[1]+1&&(d[1]=this.Mt[c]-1);this.zo(c,d,o)}a=[0,9];b=this.fj;ia.Dc("RouteAddress_DIV"+b);c=this.ki(b);1==b?this.fc.content&& (this.fc.result.city_list&&1!=this.fc.result.city_list[b]&&c&&0<c.length)&&(c.length<a[1]+1&&(a[1]=c.length-1),this.zo(b,a)):this.vg&&0==b&&this.map&&this.map.zh(this.CE);this.select(b,0)},aO:function(a){var b=this.map;if(a.YV&&!(a.result.d4&1)&&(29==a.result.type||13==a.result.type)){var a=a.YV,c=["country","province","city","area"],c=a.type!=p?modelConfig.tg[c[a.type]]:j,a=a.Gd!=p?a=O.vb(a.Gd,o).point:j;b.yW?(c&&b.Cg(c),a&&b.Vf(a)):(b.yW=o,b.Dd(a||b.Ha(),c||b.fa()))}},XN:function(){this.Gp=this.ku; for(var a=0;a<=this.ce;a++)0<this.fc.result.count[a]?0==this.fc.result.city_list[a]?(this.Hp[a]=1==this.fc.result.prio_flag[a]?1:0,this.Mt[a]=this.fc.result.count[a]):this.Hp[a]=2:this.Hp[a]=3},zo:function(a,b){var c=this,d=this.ki(a),e=c.map;c.jC();if(d){for(var f=b[0];f<=b[1];f++){var g=O.vb(d[f].geo_base64||d[f].geo,o);c.Sf.push(V.SU(g.ia[0],f-b[0],d[f].name,e));c.Vm.push(g.ia[0])}d=c.Vm;c.vg&&c.Gp[0]==c.Gp[1]&&d.push(c.vg.point);if(this.map.oa()==Pa){var g=Uc[Pa].G1[e.Xb][1],i=getPointsBounds(d), k=e.bt(i).zoom;g.kt(i)?(15>=k&&(k=15),e.Dd(d[0],k)):e&&e.zh(d)}else e&&e.zh(d);11==c.Vm.length&&c.Vm.pop();for(var l=this.Sf,f=b[0];f<=b[1];f++)(function(){var d=f;l[f-b[0]]&&(l[f-b[0]].addEventListener("click",function(){c.select(a,d)}),l[f-b[0]].addEventListener("mouseover",function(){var b=d%10;c.fi!=b&&c.sB(a,b)}),l[f-b[0]].addEventListener("mouseout",function(){var b=d%10;c.fi!=b&&c.aw(a,b)}))})()}},oU:function(a,b,c){var d=this,e=a[c],a="<span class=\'iw_poi_title\' title=\'"+e.name+"\'>"+e.name+ "</span>",f=[],g="";e.addr&&""!=e.addr&&(0==e.poiType?g="\\u5730\\u5740: "+e.addr:1==e.poiType?g="\\u9014\\u7ecf\\u516c\\u4ea4\\u8f66\\uff1a"+e.addr.split(";").join("; "):3==e.poiType&&(g="\\u9014\\u7ecf\\u5730\\u94c1\\uff1a"+e.addr.split(";").join("; ")));f.push("<div style=\'padding:11px 11px 6px 11px;line-height:20px;word-break:break-all\'>"+g+"</div>");f.push("<div style=\'line-height:180%;margin-bottom:10px;\'>");e="\\u9009\\u4e3a\\u9014\\u7ecf\\u70b9";0==b&&(e="\\u9009\\u4e3a\\u8d77\\u70b9");b==this.ce&&(e="\\u9009\\u4e3a\\u7ec8\\u70b9"); f.push("<div style=\'text-align:center;\'><div id=\'selInfoWndBtn\' class=\'selInfoWndBtn\'  data-uid = \'"+b+"_"+c+"\'  />"+e+"</div>");f.push("</div>");this.Cb?(this.Cb.Cc(a),this.Cb.ad(f.join(""))):(this.Cb=new sc(f.join(""),{title:a,height:0,width:280,margin:[0,0,0,0]}),this.Cb.addEventListener("open",function(){var a=x.$("selInfoWndBtn");x.M(a,"click",function(){var b=a.getAttribute("data-uid").split("_");d.itmSelect(b[0],b[1])});x.M(a,"mouseover",function(){d._selBtnOver(a)});x.M(a,"mousedown",function(){d._selBtnDown(a)}); x.M(a,"mouseout",function(){d._selBtnOut(a)})}),this.Cb.addEventListener("close",function(){d.aw(b,i)}));var i=c%10;this.Sf&&this.Sf[i]&&this.Sf[i].Ob(this.Cb)},XW:function(a){a==j&&(a=this.fj);return 0==a?this.Ky:a==this.ce?this.dx:this.BO[a-1]},Gb:function(a,b){for(var c=0,d=a.length;c<d;c++)b(c,a[c])}});vd.tH=function(a,b,c){var d="";0===c&&(d+=";border-top:1px solid #e4e6e7");var e="nav-ed";0===c&&(e="nav-st");c=["<div style=\'"+d+"\'><div style=\'cursor:pointer;padding:8px 0 8px 10px;line-height:15px\'"];c.push("onclick=\'"+b+"\'>");c.push("<span class=\'navtrans-navlist-icon "+e+"\'></span>");c.push("<div style=\'overflow:hidden;line-height:20px;\'>"+a);c.push("</div></div></div>");return c.join("")}; vd.sH=function(a,b,c){return\'<h1 style="margin:0;border-top:1px solid #e4e6e7;\'+(c?"border-bottom:1px solid #e4e6e7;padding:10px 0 10px 7px;":"padding:10px 0 9px 7px;")+"font:bold 16px "+F.fontFamily+\'"> \'+b+"\\u524d\\u5f80 "+a+" \\u7684\\u8def\\u7ebf</h1>"}; x.extend(vd.prototype,{search:function(a,b){return!a||!b?(this.Pe(),this.sb(5),this.Sa(W.Sc),q):o},Pe:function(){delete this.ja;delete this.ga;delete this.Fa;delete this.Aq;delete this.Il;var a=this.k.ka;this.sb();a.Ia&&(a.Ia.innerHTML="");a.map&&a.map.Wc();this.Kj();this.kb=-1},af:function(a,b){var c,b=b||{};"string"===typeof a?c=[2,"","",a,0,""]:a instanceof H?(c=S.zb(a),c=[1,"",c.lng+","+c.lat,b.N4||"",0,""]):(c=S.zb(a.point),c=[1,""+a.uid,c.lng+","+c.lat,a.title,0,""]);return c.join("$$")+"$$"}, Mh:function(a,b){var c;"string"===typeof a?c=a:(c=a instanceof H?a:a.point,c=c.lat+","+c.lng);"string"!==typeof a&&(b&&""!==b&&"string"===typeof b)&&(c="name:"+b+"|latlng:"+c);return c},Ax:function(a){return this.af(a)+"$$1$$"},Z0:function(){var a;"string"===typeof dest?a=dest:(a=dest instanceof H?dest:dest.point,a=a.lat+","+a.lng);return a}});var Bh=0,Ch=1; function qh(a){"string"===typeof a&&(a=parseFloat(a));a=!a||0>a?"0\\u7c73":10>=a?"10\\u7c73":1E3>a?10*Math.round(a/10)+"\\u7c73":(a/1E3).toFixed(1)+"\\u516c\\u91cc";"1000\\u7c73"===a&&(a="1.0\\u516c\\u91cc");return a} function rh(a,b){if(!a||isNaN(a))return"";var c="",d=Math.ceil(a/60);if("bustime"===b)var e=d%10,f=parseInt(d/10,10),d=0!==e?5<e?10*++f:f?10*f:5:d;e=parseInt(d/1440,10);d%=1440;f=parseInt(d/60,10);d%=60;1<=e&&(c+=e+"\\u5929");1<=f&&(c+=f+"\\u5c0f\\u65f6");if(1<=d&&(!b||!("nav"===b&&1<=e)))c+=d+"\\u5206\\u949f";return c}T(sf,{clearResults:sf.Pe});x.extend(wd.prototype,{Qd:function(){for(var a=0,b=this.Pa.length;a<b;a++){var c=this.Pa[a];this[c.method].apply(this,c.arguments)}delete this.Pa;var d=this;this.k.ka.map&&this.k.ka.map.addEventListener("onpoiselected",function(a){d.YE(a)})},DA:function(a,b){function c(a){var a=a.split("$$"),b=a[0],c=p;/[0-2]/.test(b)&&7===a.length&&(c=a[+b+1]);return c}var d=this;this.Ig(this.yd,function(e){e={qt:d.ud,c:e,sn:a,b2:b,sy:d.k.$c||0,ext:1};4===e.sy&&(e.f="[0,2,4,7,5,8,9,10,11]");var f=c(a),g=c(b);cd.cb(function(a, b){d.Jf(a,b)},e,{start:f,end:g})})},search:function(a,b){if(vd.prototype.search.call(this,a,b)===o){var c=this;this.Ig(this.yd,function(d){d||(this.sb(5),this.Sa(W.Sc));var e;"object"===typeof a&&"string"===typeof b||"string"===typeof a&&"object"===typeof b?"string"===typeof a?e={qt:"bse",c:d,isSingle:o,wd:a,en:c.af(b),sy:c.k.$c||0,ex:1}:"string"===typeof b&&(e={qt:"bse",c:d,isSingle:o,wd:b,sn:c.af(a),sy:c.k.$c||0,ex:1}):e={qt:c.ud,c:d,sn:c.af(a),en:c.af(b),sy:c.k.$c||0,ex:1};4===e.sy&&(e.f="[0,2,4,7,5,8,9,10,11]"); cd.cb(function(a,b){c.Jf(a,b)},e,{start:a,end:b,rH:"search"})})}},YE:function(a){if(a.sType===this.ud){a=a.paramInfo;a.qt=this.ud;var b=this;a.sy=b.k.$c||0;var c={start:a.sq,end:a.eq,rH:"preciseSearch"};this.k.ed&&(c.HN=z.wp+"mobile/webapp/interface/wiseBus/",c.Js=o);cd.cb(function(a){b.Jf(a,c)},a,c)}},Jf:function(a,b){var c=this.k.ka.map;this.Pe();this.Fa=a;var d=a.result;this.ga=b;if(0!==d.error||d.type!==this.Fu||!a.content)23===d.type&&this.k.ka.map?(c=new Bd(a,{ka:this.k.ka,wy:this.ud}),d=K("div", {style:"font:12px "+F.fontFamily+";background:#fff"}),d.innerHTML=c.va(),this.k.ka.Ia?(this.k.ka.Ia.appendChild(d),c.ra()):c.XO(),c.YB()):(this.ja=new nh({city:a.current_city.name,It:[],$c:d.sy,jO:j,WK:j}),this.sb(3),this.Sa(W.Sc,this.ja));else if(this.k.ed&&"search"===b.rH){var e=new M("onpoiselected"),f={};f.qt=this.ud;f.sy=this.k.$c||0;f.sq=b.start;f.eq=b.end;f.sn=d.sn?d.sn:this.af(d.start.wd);f.en=d.en?d.en:this.af(d.end.wd);f.c=d.c;e.paramInfo=f;e.sType=this.ud;c.dispatchEvent(e)}else this.Fl(), this.Gl(),this._selectPlan(0)},rS:function(a,b){var c=id;0===b&&(c=0<a?2:1);return c},Fl:function(){var a=this.Fa.result,b=this.Fa.content,c=this.Fa.current_city,d={},e={};if("object"===typeof this.ga.start&&!(this.ga.start instanceof H))x.extend(d,this.ga.start);else{d.title=a.start.wd||"\\u8d77\\u70b9";d.uid=a.start.uid;d.url=W.Nh(d.uid,c.code);if(this.k.ed){var f=a.start.pt.split(",");d.point=S.Ab(new H(parseFloat(f[0]),parseFloat(f[1])))}else d.point=O.vb(a.start.pt,o).point;d.city=c.name}"object"=== typeof this.ga.end&&!(this.ga.end instanceof H)?x.extend(e,this.ga.end):(e.title=a.end.wd||"\\u7ec8\\u70b9",e.uid=a.end.uid,e.url=W.Nh(e.uid,c.code),this.k.ed?(f=a.end.pt.split(","),e.point=S.Ab(new H(parseFloat(f[0]),parseFloat(f[1])))):e.point=O.vb(a.end.pt,o).point,e.city=c.name);var f=[],g=0;this.Aq=[];for(var i=0;i<b.length&&!(g>this.k.Gk-1);i++)for(var k=0,l=b[i]&&b[i].stops&&b[i].stops.length;k<l&&!(g>this.k.Gk-1);k++){this.Aq[g]=[];for(var m=b[i].stops[k],n=b[i].lines[k],t=0,v=0,w=n.length;v< w;v++)"object"===typeof n[v]&&t++;for(var t=n[t+1],v=[],w=[],y=0,B="<table class=\'trans-plan-content\'>",A=0;A<m.length-1&&n[A].geo;A++){var E=m[A].getOn,E={title:E.name,uid:E.uid,url:W.Nh(E.uid,c.code),city:c.name,point:O.vb(E.geo,o).point},C=m[A+1].getOff,C={title:C.name,uid:C.uid,url:W.Nh(C.uid,c.code),city:c.name,point:O.vb(C.geo,o).point},D=[];if(0===A)0<m[A].walk.distance&&m[A].walk.geo&&(D=O.vb(m[A].walk.geo,o).ia.concat(E.point));else if(0<m[A].walk.distance&&m[A].walk.geo)var D=O.vb(m[A].getOff.geo, o).point,J=O.vb(m[A].getOn.geo,o).point,D=[D].concat(O.vb(m[A].walk.geo,o).ia).concat(J);w.push(new vh({md:m[A].walk.distance,ia:D.slice(0),vy:dd,index:A,RE:i}));y+=m[A].walk.distance;A===m.length-2&&(0<m[A+1].walk.distance&&m[A+1].walk.geo&&(D=[C.point].concat(O.vb(m[A+1].walk.geo,o).ia)),w.push(new vh({md:m[A+1].walk.distance,ia:D.slice(0),vy:dd,index:A+1,RE:i})),y+=m[A+1].walk.distance);D=O.vb(n[A].geo,o);J=[];if(this.k.ed&&n[A].link_color&&0<n[A].link_color.length)for(var P=0,N=0,Q=n[A].link_color, Z=Q.length;P<Z;P++){var aa=Q[P],Ja=aa.status,Oa=D.ia.slice(N,N+aa.geo_cnt+1);J.push({ia:Oa,status:Ja});N+=aa.geo_cnt}v.push(new xh({title:n[A].name,uid:n[A].uid,md:n[A].distance,ia:D.ia,status:J,s_:[E,C],type:this.dS(n[A].type),UY:n[A].station_num}));J=D.$a;D=J.ve();J=J.nf();D=[D,J];this.Aq[g].push(D[0],D[1]);y+=n[A].distance;m[A].walk.distance&&(B+="<tr><td><span class=\'navtrans-bus-icon walk\'></span><div class=\'navtrans-bus-desc\'>\\u6b65\\u884c\\u7ea6"+qh(m[A].walk.distance)+"\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+ E.title+"</span></div></td></tr>");B+="<tr><td><span class=\'navtrans-bus-icon bus\'></span><div class=\'navtrans-bus-desc\'>\\u4e58\\u5750<span class=\'navtrans-busstation\'>"+this.lU(n[A].name)+"</span>\\uff0c\\u7ecf\\u8fc7"+n[A].station_num+"\\u7ad9\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+C.title+"</span></div></td></tr>";A<m.length-2?B+="":m[A+1].walk.distance&&(B+="<tr><td><span class=\'navtrans-bus-icon walk\'></span><div class=\'navtrans-bus-desc\'>\\u6b65\\u884c\\u7ea6"+qh(m[A+1].walk.distance)+ "\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+m[A+1].getOn.name+"</span></div></td></tr>")}B+="</table>";if(0===y)break;f.push(new th({hF:w,md:y,duration:t,CY:v,description:B}));g++}b=z.wc+"direction?"+Cb({region:c.name,origin:this.Mh(this.ga.start,this.ga.start.title?this.ga.start.title:this.ga.start),destination:this.Mh(this.ga.end,this.ga.end.title?this.ga.end.title:this.ga.end)})+"&output=html&mode=transit&src=baidu_map_jsapi";this.ja=new nh({city:c.name,It:f,start:d,end:e,url:b,$c:a.sy}); this.sb(0);this.Sa(W.Sc,this.ja)},NT:function(a){var b=this.k.ka.map,c=[],d=this;if(b){var e=this.ja.pf(a);if(e){var f=this.ja.rj(),g=this.ja.fh(),i=V.xo(b,f.point,f.title,Bh);f.marker=i;i.addEventListener("click",function(){d._select(0)});this.wa.push(i);i=V.xo(b,g.point,g.title,Ch);g.marker=i;this.wa.push(i);i.addEventListener("click",function(){d._selectLast()});this.Aq[a].push(f.point,g.point);for(var k=0,i=e.tx();k<i;k++){var l=e.ND(k),m=V.yo(b,l.te()),n=[];if(this.k.ed&&0<l.Bd.length){for(var t= 0,v=l.Bd.length;t<v;t++){var w=l.Bd[t];w.status&&(w=V.JJ(b,w.ia,w.status),n.push(w),this.wa.push(w))}l.e1=n}l.Ti=m;this.wa.push(m);m=l.KD();c.push(m);var y=V.LJ(b,m.point,l.type,m.title);m.marker=y;this.wa.push(y);m=l.JD();c.push(m);var B=V.LJ(b,m.point,l.type,m.title);m.marker=B;(function(){var a=k;y.addEventListener("click",function(){d._select(2*(a+1)-1)});B.addEventListener("click",function(){d._select(2*(a+1))})})();this.wa.push(B);l=e.hh(k);0<l.Te(q)&&(m=V.Tl(b,l.te(),l.ep()),l.Ti=m,this.wa.push(m))}l= e.hh(k);m=V.Tl(b,l.te(),l.ep());l.Ti=m;this.wa.push(m);d=this;this.k.ka.Wg&&b.zh(this.Aq[a],{margins:[30,30,30,30]});this.Sa(W.zu,e.Ri,e.dk);this.Sa(W.bq,[f,g],c)}}},Gl:function(){if(this.k.ka.Ia&&this.k.ka.Ia.appendChild&&this.ja&&0<this.ja.ux()){for(var a=K("div",{style:"font:12px "+F.fontFamily+";background:#fff"}),b=vd.sH(this.ja.fh().title,"\\u4e58\\u516c\\u5171\\u4ea4\\u901a\\u5de5\\u5177"),c=this.uH(this.ja.rj().title,\'Instance("\'+this.ba+\'")["_select"](0)\',0),d=this.uH(this.ja.fh().title,\'Instance("\'+ this.ba+\'")["_selectLast"]()\',1),e=["<table style=\'font:12px "+F.fontFamily+";border-collapse:collapse;width:100%;\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>"],f=0,g=this.ja.ux();f<g;f++){var i=this.ja.pf(f),k=i.Te().replace(/(\\d+(?:.\\d+)?)/,"$1 "),l=i.Ts().replace(/(\\d+)/,"$1 "),m=i.QX();bg="";var n="<p style=\'margin:0px 0px 5px 0px;font-size:14px;color: #36c;\'>"+i.kX()+"</p>",k="<p style=\'margin:5px 0px;font-size:12px;\'>"+k+"  &nbsp;|&nbsp;  "+l+"  &nbsp;|&nbsp; \\u6b65\\u884c"+m+"</p>";e.push("<tr class=\'tranroute-plan-list\' style=\\"cursor:pointer"+ bg+\'" onclick=\\\'Instance("\'+this.ba+\'")._selectPlan(\'+f+")\'>");e.push("<td style=\'vertical-align:top;line-height:18px\' ><div style=\'margin:3px 0px;border:1px solid #e4e6e7;\'><div class=\'trans-title\' style=\'padding: 5px 10px;\'>"+n+k+"</div><div class=\'trans_plan_desc\' style=\'padding:0px 8px;margin:0px;display:none;position:relative;\'>"+c+i.eh()+d+"</div></div></td>");e.push("</tr>")}e.push("</table>");c="<div style=\'border-bottom:1px solid #ccc;margin-bottom:10px;color:#7777cc;background:#e5ecf9;overflow:hidden;padding:2px;text-align:right\'>"; this.ja.moreResultsUrl&&(c+="<a style=\'color:#7777cc\' href=\'"+this.ja.moreResultsUrl+"\' target=\'_blank\'>\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b&#187;</a>");a.innerHTML=b+e.join("")+(c+"&nbsp;</div>");this.k.ka.Ia.appendChild(a);this.Sa(W.Au,a)}},_select:function(a,b){var c=this.k.ka.map;if(c){var b=b||window.event,d=this.ja.pf(this.kb);if(d){var e=this,f=2*d.tx();if(0===a||a===f+1){var g=0===a?this.ja.rj():this.ja.fh(),i=V.Ow({content:"<b>"+g.title+"</b>",total:f,Rw:a,by:function(a){e._select(a)}}); i.addEventListener("open",function(){e.Sa(W.Bn,g,V.Us(c))});var k=0===a?0:1,e=this;c.D.pm?ae.np(i,c.getCurrentCity().code,{panoInstance:c.P,lngLat:g.point,titleTip:g.title,type:"busline",beforeDomId:"trans_nav"},function(){e.wa[k].Ob(i)}):e.wa[k].Ob(i)}else{var d=d.ND(Math.floor((a+1)/2)-1),l,m=d.fp();1===a%2?(l=d.KD(),d=m+"<b>"+l.title+"\\u7ad9\\u4e0a\\u8f66</b>"):(l=d.JD(),d=m+"<b>"+l.title+"\\u7ad9\\u4e0b\\u8f66</b>");i=V.Ow({content:d,total:f,Rw:a,by:function(a){e._select(a)}});i.addEventListener("open", function(){e.Sa(W.Bn,l,V.Us(c))});e=this;c.D.pm?ae.np(i,c.getCurrentCity().code,{panoInstance:c.P,lngLat:l.point,titleTip:l.title,type:"busline",beforeDomId:"trans_nav"},function(){l.marker.Ob(i)}):l.marker.Ob(i)}ma(b)}}},_selectLast:function(a){a=a||window.event;if(this.ja&&-1<this.kb){var b=this.ja.pf(this.kb);if(!b)return;this._select(2*b.tx()+1)}ma(a)},_selectPlan:function(a){if(this.ja||this.h1.pf(a)){this.ja.pf(a);var b=this.k.ka.map;b&&(b.Wc(),this.Kj(),this.NT(a));if(this.k.ka.Ia){var c=this.k.ka.Ia.getElementsByTagName("table")[0]; if(!c)return;for(var b=x.getElementsByClassName(c,"tranroute-plan-list"),c=x.getElementsByClassName(c,"trans_plan_desc"),d=0;d<c.length;d++)d!==a&&(c[d].style.display="none");for(c=0;c<b.length;c++)x.Tb(b[c],"expand");c=x.getElementsByClassName(b[a],"trans_plan_desc")[0];"none"===c.style.display?(c.style.display="block",x.Ua(b[a],"expand")):c.style.display="none"}this.kb=a}},Kj:function(){for(var a=0;a<this.wa.length;a++)this.wa[a]&&this.wa[a].aB&&(this.wa[a].aB.remove(),this.wa[a].aB=p),this.wa[a]&& this.wa[a].remove(),this.wa[a]=p;this.wa.length=0},dS:function(a){return wd.oP[a]},uH:function(a,b,c){var d="";0===c&&(d+="padding-top:5px;");var e="nav-ed";0===c&&(e="nav-st");c=["<div style=\'"+d+"\'><div style=\'cursor:pointer;padding:2px 0 2px 0px;line-height:15px\'"];c.push("onclick=\'"+b+"\'>");c.push("<span class=\'navtrans-navlist-icon "+e+"\'></span>");c.push("<div style=\'overflow:hidden;line-height:20px;\'>"+a);c.push("</div></div></div>");return c.join("")}});xd=wd.prototype;T(xd,{_internalSearch:xd.DA});yd.rP=20;yd.lP=50;yd.kP=10; x.extend(yd.prototype,{kE:function(){this.aa={Cp:[],Lb:[],Ci:[],Zg:[],le:p,qd:p,QC:q,Dw:p,Fo:p,kM:q,Qw:p,RC:1,PC:1,dK:"\\u8d77\\u70b9",cK:"\\u7ec8\\u70b9",Zx:q,ss:[]}},Qd:function(){this.kE();for(var a=0,b=this.Pa.length;a<b;a++){var c=this.Pa[a];this[c.method].apply(this,c.arguments)}delete this.Pa;var d=this;this.k.ka.map&&this.k.ka.map.addEventListener("onpoiselected",function(a){d.YE(a)})},search:function(a,b,c){this.aa.kM=q;var c=c||{},d=c.waypoints;"[object Array]"==Object.prototype.toString.call(d)||(d= []);this.VO=d;if(vd.prototype.search.call(this,a,b)===o){var e=this;this.Ig(this.yd,function(f){var f=f||1,g;if(("object"===typeof a&&"string"===typeof b||"string"===typeof a&&"object"===typeof b)&&0===d.length&&!e.k.ed)"string"===typeof a?g={qt:"nse",c:f,isSingle:o,wd:a,en:e.af(b),sy:e.k.$c||0}:"string"===typeof b&&(g={qt:"nse",c:f,isSingle:o,wd:b,sn:e.af(a),sy:e.k.$c||0}),this.ud=e.k.ed?e.ud:"nse",f={start:a,end:b,Js:e.k.ed};else{var i=e.af(a);en="";if(0<d.length){for(var k=0;k<d.length;k++)en+= e.Ax(d[k])+"+to:";en+=e.af(b)}else en=e.af(b);g={qt:e.ud,c:f,sn:i,en:en,sy:e.k.$c||0};f={start:i,end:en,Js:e.k.ed}}0<d.length&&(f.JO=o);c.startCity&&(g.sc=c.startCity);if(c.endCity){i="";if(0<d.length){for(k=0;k<d.length;k++)i+=c.endCity+"+to:";i+=c.endCity}else i=c.endCity;g.ec=i}e.k.ed&&(g.route_traffic=1,g.version=4,g.mrs=0<e.VO.length?0:1);cd.cb(function(a,b){e.Jf(a,b)},g,f)})}},Vz:function(a,b){var c=this;c.aa.kM=o;c.Ig(c.yd,function(d){for(var d=d||1,e=S.zb(c.aa.Lb[0]),e="1$$$$"+e.lng+","+e.lat+ "$$$$",f=c.aa.RC||d,g="",i="",k=1,l=c.aa.Lb.length;k<l;k++){var m=c.aa.Lb[k];k===l-1?(g+=c.af(m),i+=c.aa.PC||d):(g=m.vj?g+(c.Ax(m)+"+to:"):g+(c.af(m)+"+to:"),i+="0 +to:")}d={qt:c.ud,c:d,drag:1,sc:f,ec:i,sn:e,en:g,sy:c.k.$c||0};c.k.ed&&(d.route_traffic=1,d.version=4,d.mrs=0);e={start:a,end:b,Js:c.k.ed};x.extend(e,{JO:o});cd.cb(function(a,b){c.Jf(a,b)},d,e)})},YE:function(a){var b=this;if(a.sType===this.ud){a=a.paramInfo;a.qt=this.ud;var b=this,c={start:a.sq,end:a.eq,Js:b.k.ed};a.sy=b.k.$c||0;b.k.ed&& (a.route_traffic=1,a.version=4,a.mrs=0<b.VO.length?0:1);cd.cb(function(a){b.Jf(a,c)},a,c)}},Jf:function(a,b){this.Pe();this.Fa=a;var c=a.result;this.ga=b;if(0!==c.error||c.type!==this.Fu)if(23===c.type||19===c.type){var c=new Bd(a,{ka:this.k.ka,wy:this.ud}),d=K("div",{style:"font:12px "+F.fontFamily+";background:#fff"});d.innerHTML=c.va(b);this.k.ka.Ia?(this.k.ka.Ia.appendChild(d),c.ra()):c.XO()}else this.ja=this.Zu({city:a.current_city.name,It:[],$c:c.sy,jO:j,WK:j}),this.sb(3),this.Sa(W.Sc,this.ja); else this.k.ed?this.HT():this.Fl(),this.MT(),this.Gl()},rS:function(a,b){var c=id;0===b&&(c=0<a?2:1);return c},EB:function(){this.aa.qd&&this.aa.qd.KC();for(var a=0,b=this.aa.Zg.length;a<b;a++){var c=this.aa.Zg[a];c instanceof U&&c.KC()}},HT:function(){var a=this.Fa.result,b=this.Fa.content,c=this.Fa.current_city,d=a.waypoints,e=b.taxis&&b.taxis[0]&&b.taxis[0].total_price||0,f=[],g=[],i=0,k=0,l=b.routes[0].legs,m=b.steps,n=b.stepts,t=[],v=[];this.Il=[];var w=this.aa.Ci.slice(0);this.aa.Ci.length= 0;var y={},B={},A=[],b=[],E=[],C=[];if("object"===typeof this.ga.start&&!(this.ga.start instanceof H))x.extend(y,this.ga.start);else{y.title=a.start.wd||"\\u8d77\\u70b9";y.uid=a.start.uid;y.url=W.Nh(y.uid,a.start_city.code);var D=a.start.pt.split(",");y.point=S.Ab(new H(parseFloat(D[0]),parseFloat(D[1])));y.city=a.start_city.cname}this.aa.RC=a.start_city.code;if("object"===typeof this.ga.end&&!(this.ga.end instanceof H))x.extend(B,this.ga.end);else{var J,D=a.end[a.end.length-1];J=a.end_city[a.end_city.length- 1];this.aa.PC=J.code;B.title=D.wd||"\\u7ec8\\u70b9";B.uid=D.uid;"null"===B.uid&&(B.uid="");B.url=W.Nh(D.uid,J.code);D=D.pt.split(",");B.point=S.Ab(new H(parseFloat(D[0]),parseFloat(D[1])));B.city=J.cname}J=D=0;for(var P=l.length;J<P;J++){var N=l[J],i=i+N.distance,k=k+N.duration;f.push(N.distance);g.push(N.duration);for(var Q=[],Z=[],aa=[],Ja=[],N=N.stepis,Oa=0,Ra=N.length;Oa<Ra;Oa++){for(var Aa=N[Oa],mc=Aa.s,Aa=Aa.n,qe=m.slice(mc,Aa+mc),mf=n.slice(mc,Aa+mc),fd=0;fd<Aa;fd++){for(var Lb=qe[fd],nc=mf[fd], re=nc.end,se=nc.status,Nc=O.vb(Lb.path,o).ia,gd=0,te=[],hd=0,nf=re.length;hd<nf;hd++){var ue=re[hd];te[hd]=Nc.slice(gd,gd+ue+1);gd+=ue}this.Il[D]=Nc;Z=Z.concat(Nc);aa.push(Nc);Ja.push(se);Lb.ky=Nc;Lb.D4=nc;Lb.PF=se;Lb.Q_=te;D++}Q=Q.concat(qe);v=v.concat(n.slice(mc,Aa+mc+1))}t.push(Q);E.push(aa);C.push(Ja);b.push(Z)}l=[];J=0;for(g=b.length;J<g;J++)m=new vh({Aj:t[J],md:f[J],index:J,ia:E[J],PF:C[J],vy:this.Gu}),l.push(m);J=new ph({hF:l,md:i,duration:k});f="";i={};E=p;E=k="string";t=this.k.ka.map;this.ga.start instanceof H&&(k="point");this.ga.end instanceof H&&(E="point");"point"===k&&"string"===E||"string"===k&&"point"===E?(E="nse",t.Hd(),x.extend(i,{region:c.name,zoom:t.fa()}),"string"===k?(i.origin=this.ga.start,i.destination=this.Mh(this.ga.end,this.ga.end.title?this.ga.end.title:this.ga.end)):(i.destination=this.ga.end,i.origin=this.Mh(this.ga.start,this.ga.start.title?this.ga.start.title:this.ga.start))):(E=kd,i.region=c.name,i.origin_region=a.start_city.cname,i.destination_region=a.end_city[0].cname,i.origin= this.Mh(this.ga.start,this.ga.start.title?this.ga.start.title:this.ga.start),i.destination=this.Mh(this.ga.end,this.ga.end.title?this.ga.end.title:this.ga.end));E!==p&&(f=z.wc+"direction?"+Cb(i)+"&output=html&mode=driving&src=baidu_map_jsapi");this.ja=this.Zu({city:c.name,It:[J],start:y,end:B,url:f,$c:a.sy,qO:e});this.aa.Lb.length=0;this.aa.Cp.length=0;c=1;for(J=0;J<d.length;J++)e=d[J],f=(e.pt?e.pt:a.end[J].pt).split(","),f=S.Ab(new H(parseFloat(f[0]),parseFloat(f[1]))),f.vj=e.if_wp?e.if_wp:a.end[J].pt, A.push(f),this.aa.Ci.push({title:e.wd?e.wd:w[J]&&w[J].title?w[J].title:"\\u672a\\u77e5\\u8def\\u6bb5",curNo:c,point:f}),c++;this.aa.Lb.push(y.point);J=0;for(g=A.length;J<g;J++)this.aa.Lb.push(A[J]);this.aa.Lb.push(B.point);J=0;for(g=b.length;J<g;J++)a=b[J],a.Sk=J,a.kj=J+1,this.aa.Cp.push(a);this.sb(0);this.Sa(W.Sc,this.ja)},Fl:function(){var a=this.Fa.result,b=this.Fa.content,c=this.Fa.current_city,d=b.kps,e=b.rss,f=a.waypoints,g={},i={};"object"===typeof this.ga.start&&!(this.ga.start instanceof H)? x.extend(g,this.ga.start):(g.title=a.start.wd||"\\u8d77\\u70b9",g.uid=a.start.uid,g.url=W.Nh(g.uid,a.start_city.code),g.point=O.vb(a.start.pt,o).point,g.city=a.start_city.cname);this.aa.RC=a.start_city.code;if("object"===typeof this.ga.end&&!(this.ga.end instanceof H))x.extend(i,this.ga.end);else{var k,l;k=a.end[a.end.length-1];l=a.end_city[a.end_city.length-1];this.aa.PC=l.code;i.title=k.wd||"\\u7ec8\\u70b9";i.uid=k.uid;"null"===i.uid&&(i.uid="");i.url=W.Nh(k.uid,l.code);i.point=O.vb(k.pt,o).point;i.city= l.cname}var m=[],n=[],t=[],v=0,w=[];this.Il=[];l=[];k=[];var y=[],B=0;this.aa.Ci.length=0;for(var A=1,E=0,C=d.length-1;E<C;E++){var D=d[E],J=d[E+1],P=e[E],N=e[E-1]||{},Q=e[E+1],Z=O.vb(D.pt,o).point,aa=O.vb(P.g,o);aa&&(y=y.concat(aa.ia));v+=Q.d;3===D.rt?(1===f[A-1].if_wp&&(Z.vj=1),l.push(Z),k.push(y.slice(0)),y=[],m.push(n.slice(0)),n=[],t.push(v),v=0,this.aa.Ci.push({title:N.n||Q.n||"\\u672a\\u77e5\\u8def\\u6bb5",curNo:A,point:Z}),A++):(n.push(new zh({point:Z,index:n.length,description:this.WR(D,P,Q, E,C,N,J),md:Q.d})),aa&&(this.Il[B]=1<E?[w[w.length-1]].concat(aa.ia):aa.ia,w=w.concat(aa.ia)),B++)}0<y.length&&k.push(y);0<n.length&&m.push(n);0<v&&t.push(v);d=[];E=0;for(C=k.length;E<C;E++)e=new vh({Aj:m[E],md:t[E],index:E,ia:k[E],vy:this.Gu}),d.push(e);E=b.time;this.ud===ld&&(E=Math.round(b.dis/1.35));b=new ph({hF:d,md:b.dis,duration:E,qW:this.aa.Ci});E="";C={};f=p;f=d="string";e=this.k.ka.map;this.ga.start instanceof H&&(d="point");this.ga.end instanceof H&&(f="point");"point"===d&&"string"=== f||"string"===d&&"point"===f?(f="nse",e.Hd(),x.extend(C,{region:c.name,zoom:e.fa()}),"string"===d?(C.origin=this.ga.start,C.destination=this.Mh(this.ga.end,this.ga.end.title?this.ga.end.title:this.ga.end)):(C.destination=this.ga.end,C.origin=this.Mh(this.ga.start,this.ga.start.title?this.ga.start.title:this.ga.start))):(f=kd,C.region=c.name,C.origin_region=a.start_city.cname,C.destination_region=a.end_city[0].cname,C.origin=this.Mh(this.ga.start,this.ga.start.title?this.ga.start.title:this.ga.start), C.destination=this.Mh(this.ga.end,this.ga.end.title?this.ga.end.title:this.ga.end));f!==p&&(E=z.wc+"direction?"+Cb(C)+"&output=html&mode=driving&src=baidu_map_jsapi");this.ja=this.Zu({city:c.name,It:[b],start:g,end:i,url:E,$c:a.sy,qO:this.tS()});this.aa.Lb.length=0;this.aa.Cp.length=0;this.aa.Lb.push(g.point);E=0;for(C=l.length;E<C;E++)this.aa.Lb.push(l[E]);this.aa.Lb.push(i.point);E=0;for(C=k.length;E<C;E++)a=k[E],a.Sk=E,a.kj=E+1,this.aa.Cp.push(a);this.sb(0);this.Sa(W.Sc,this.ja)},wH:function(){for(var a= 0,b=this.ja.pf(0),c=0,d=b.Ys();c<d;c++)var e=b.hh(c),a=a+e.vx();return a},Zq:function(a){for(var b=0,c=this.ja.pf(0),d=0,e=c.Ys();d<e;d++)for(var f=c.hh(d),g=0,i=f.vx();g<i;g++){var k=f.DL(g);if(b===a)return k;b++}},WR:function(a,b,c,d,e,f,g){var i="",i=parseInt(b.d,10),k=b.poi;k&&(i-=k.pd);var i=qh(i),f=this.oA(f.t,f.n),k=this.oA(b.t,b.n),l=this.oA(b.t,c.n),m=this.CH(a.dw)||"",m=a.dr?m+"<span>"+a.dr+"</span>\\uff0c":"";3===g.rt&&(m+="\\u5230\\u8fbe<span>"+this.nA(g.rt)+"</span>\\uff0c");c=k===l?"":this.pS(c.t, c.n)+"<span>"+l+"</span>";g=this.OH(a.ett||a.extt||a.tt);i=g+"<div class=\'navtrans-navlist-content\'>"+((""!==k&&f===k?"\\u7ee7\\u7eed":"")+this.qS(b.t,b.n))+k+this.nA(a.rt)+i+"\\uff0c"+this.mS(b)+this.uS(a)+m;0===d?i=g+"<div class=\'navtrans-navlist-content\'>\\u4ece\\u8d77\\u70b9\\u5411"+this.jv(a.ett||a.extt||a.tt)+"\\u51fa\\u53d1</div>":0<d&&d<e-1?((a=this.jv(a.ett||a.extt||a.tt))||(a=this.jv(1)),i=i+a+c+"</div>"):i+="\\u5230\\u8fbe\\u7ec8\\u70b9</div>";return i},LS:function(a,b,c){if(b&&c&&0<c.length)for(var d= 0,e=c.length;d<e;d++){var f=a.bc(c[d]);if(V.YW(b,f)<=yd.rP)return o}return q},MT:function(){this.k.ka.map&&this.ja&&(this.RT(),this.OT())},OT:function(){for(var a=this.k.ka.map,b=this.ja.pf(0),c=b.hh(0),d=this.ja.rj(),e=this.ja.fh(),f=this,g=this.aa.Lb.length,i=[],k=[],l,m=0,n=this.aa.Cp.length;m<n;m++){var t=this.aa.Cp[m];l=V.Tl(a,t,c.ep());b.dk[m].Ti=l;l.Sk=t.Sk;l.kj=t.kj;t=l.Hd();i.push(t.ve());i.push(t.nf());this.Xz&&g<yd.kP+2&&(l.addEventListener("mousemove",function(b){f.aa.Zx?f.aa.qd&&f.aa.qd.U(): (f.aa.Qw=this,f.aa.qd?f.LS(a,b.pixel,f.aa.Lb)?f.aa.qd.U():(f.aa.qd.show(),f.aa.qd.ta(b.point),f.aa.le.ad("\\u62d6\\u52a8\\u4ee5\\u66f4\\u6539\\u8def\\u7ebf"),f.aa.le.show(),f.aa.qd.fn(f.aa.le)):(f.aa.qd=V.GJ(a,b.point),f.aa.qd.Hb(),f.aa.qd.addEventListener("dragging",function(){f.NI(this,a,f.aa.Qw.Sk,f.aa.Qw.kj)}),f.aa.qd.addEventListener("dragend",function(){var a=f.aa.Dw,b=a.name,c=f.aa.Qw.kj;a.vj=p;f.aa.Lb.splice(c,0,a);f.aa.Ci.splice(c,0,{title:b?b:"\\u672a\\u77e5\\u8def\\u6bb5",curNo:c,point:a});this.ta(a); f.EB();f.Vz(d,e)}),f.aa.le||(f.aa.le=V.uK()),a.Ka(f.aa.qd)))}),l.addEventListener("mouseout",function(){f.aa.qd&&f.aa.qd.U()}));f.aa.Zg.push(l);if(this.k.ed){c=b.hh(m);l=0;for(t=c.Sr.length;l<t;l++)for(var v=c.Sr[l],w=v.Q_,v=v.PF,y=0,B=w.length;y<B;y++){if(v[y])var A=V.JJ(a,w[y],v[y]);k.push(A);f.aa.Zg.push(A)}c.q1=k}}this.k.ka.Wg&&a.zh(i,{margins:[30,30,30,30]});this.Sa(W.zu,b.dk)},RT:function(){var a=this.k.ka.map;this.ja.pf(0);for(var b=this.ja.rj(),c=this.ja.fh(),d=this,e=0,f=0,g=this.aa.Lb.length;f< g;f++){var i=this.aa.Lb[f];if(0===f)i=V.xo(a,i,b.title,Bh),b.marker=i,i.addEventListener("click",function(){d._select(0)}),this.wa.push(i);else if(f===this.aa.Lb.length-1)i=V.xo(a,i,c.title,Ch),c.marker=i,i.addEventListener("click",function(){d._select(d.wH()+1)}),this.wa.push(i);else{i.vj?(i=V.MJ(a,i,e),e++,i.vj=1):i=V.GJ(a,i);this.aa.Ci[f-1].Nm=i;var k=new cc;k.tw(new fc("\\u5220\\u9664\\u8be5\\u70b9",function(a,b,c){d._delVia(c.Sw)},{width:60}));i.wo(k);d.aa.ss.push(k)}i.Sw=f;this.Xz&&(i.Hb(),i.addEventListener("mouseover", function(){d.aa.Zx=o;d.aa.le?(d.aa.le.ad("\\u62d6\\u52a8\\u4ee5\\u66f4\\u6539\\u8def\\u7ebf"),d.aa.le.show()):d.aa.le=V.uK();this.fn(d.aa.le)}),i.addEventListener("mouseout",function(){this.MD()&&this.MD().U();d.aa.Zx=q}),i.addEventListener("dragging",function(){d.NI(this,a)}),i.addEventListener("dragend",function(){var a=d.aa.Dw,e=this.Sw;this.vj&&(a.vj=1);d.aa.Lb[e]=a;this.ta(a);var a=d.aa.Lb[0],f=d.aa.Lb[d.aa.Lb.length-1];0===e&&(b.point=a,b.title=d.aa.dK);e===d.aa.Lb.length-1&&(c.point=f,c.title=d.aa.cK); d.EB();d.Vz(b,c)}));d.aa.Zg.push(i)}e=[b];e=e.concat(this.aa.Ci);e=e.concat([c]);this.Sa(W.bq,e)},NI:function(a,b,c,d){var e=this;if(e.aa.QC!==o){e.aa.QC=o;setTimeout(function(){e.aa.QC=q},yd.lP);var f;f=S.zb(a.ha());var g=b.fa(),i=a.Sw,k=e.k.$c;if("undefiend"!==typeof c&&"undefined"!==typeof d){var l=e.aa.Lb[c],l=S.zb(l),i=e.aa.Lb[d],i=S.zb(i);f={qt:"drag",pt:f.lng+","+f.lat,sn:l.lng+","+l.lat,en:i.lng+","+i.lat,r:5E3,st:1,et:1,sy:k,l:g}}else 0===i?(i=e.aa.Lb[i+1],i=S.zb(i),f={qt:"drag",pt:f.lng+ ","+f.lat,sn:"",en:i.lng+","+i.lat,r:5E3,st:1,et:1,sy:k,l:g}):i===this.aa.Lb.length-1?(l=e.aa.Lb[i-1],l=S.zb(l),f={qt:"drag",pt:f.lng+","+f.lat,sn:l.lng+","+l.lat,en:"",r:5E3,st:1,et:1,sy:k,l:g}):(l=e.aa.Lb[i-1],l=S.zb(l),i=e.aa.Lb[i+1],i=S.zb(i),f={qt:"drag",pt:f.lng+","+f.lat,sn:l.lng+","+l.lat,en:i.lng+","+i.lat,r:5E3,st:1,et:1,sy:k,l:g});cd.cb(function(a,b){e.UT(a,b)},f,{XV:a,map:b,Sk:c,kj:d})}},UT:function(a,b){if(a&&a.content){this.aa.Dw=O.vb(a.content.dragpt,o).point;var c,d=b.map,e=b.Sk,f= b.kj,g=b.XV.Sw;"undefiend"!==typeof e&&"undefined"!==typeof f?c=O.rN(a.content.geo).ia:0===g?(c=O.vb(a.content.geo,o).ia,this.aa.dK=a.content.name?a.content.name:"\\u8d77\\u70b9"):g===this.aa.Lb.length-1?(c=O.vb(a.content.geo,o).ia,this.aa.cK=a.content.name?a.content.name:"\\u7ec8\\u70b9"):c=O.rN(a.content.geo).ia;c&&(this.DQ(g,d,e,f),this.aa.Fo?this.aa.Fo.ke(c):(e=this.ja.pf(0).hh(0),this.aa.Fo=V.Tl(d,c,e.ep())));c=a.content.name?a.content.name:"\\u672a\\u77e5\\u8def\\u6bb5";this.aa.Dw.name=c;d="("+qh(a.content.dis)+ ")";this.aa.le&&this.aa.le.show();this.aa.le&&this.aa.le.ad(c+d)}},DQ:function(a,b,c,d){for(var e=0,f=this.aa.Zg.length;e<f;e++){var g=this.aa.Zg[e];if(g instanceof Cc)if("undefiend"!==typeof c&&"undefined"!==typeof d){if(g.Sk===c&&g.kj===d){b.Ub(g);break}}else(g.Sk===a||g.kj===a)&&b.Ub(g)}this.cg&&this.cg.U()},_select:function(a){var b=this.kb,c=this.k.ka;if(c.Ia){var d=c.Ia.getElementsByTagName("table"),d=d[d.length-1].getElementsByTagName("tr");0<=b-1&&d[b-1]&&(d[b-1].style.background="");0<=a- 1&&d[a-1]&&(d[a-1].style.background="#f0f0f0")}var e=c.map;if(e){var b=this.ja.pf(0).hh(0),d=this.wH(),f=this;e.Wc();if(0===a||a===d+1){var g=0===a?this.ja.rj():this.ja.fh(),i=V.Ow({content:"<b>"+g.title+"</b>",total:d,Rw:a,by:function(a){f._select(a)},WX:1===c.ft?q:o});i.addEventListener("open",function(){f.Sa(W.Bn,g,V.Us(e))});i.addEventListener("close",function(){if(f.k.ka.Ia){var a=c.Ia.getElementsByTagName("table");if(a=a[a.length-1])a=a.getElementsByTagName("tr"),0<=f.kb-1&&a[f.kb-1]&&(a[f.kb- 1].style.background="")}f.kb=-1});var k=0===a?0:1,f=this;e.D.pm?ae.np(i,e.getCurrentCity().code,{panoInstance:e.P,lngLat:g.point,titleTip:g.title,type:"busline",beforeDomId:"trans_nav"},function(){f.wa[k].Ob(i)}):f.wa[k].Ob(i);this.cg&&this.cg.U()}else{var l=c.ft;if(1===l){var m=this.Zq(a-1),i=V.Ow({content:m.eh()?m.eh(q):m.instructions,total:d,Rw:a,by:function(a){f._select(a)}});i.addEventListener("open",function(){f.Sa(W.Bn,m,V.Us(e))});i.addEventListener("close",function(){if(f.k.ka.Ia){var a= c.Ia.getElementsByTagName("table");if(a=a[a.length-1])a=a.getElementsByTagName("tr"),0<=f.kb-1&&a[f.kb-1]&&(a[f.kb-1].style.background="")}f.kb=-1});var n=m.ha?m.ha():m.ky[m.ky.length-1],f=this;e.D.pm?ae.np(i,e.getCurrentCity().code,{panoInstance:e.P,lngLat:n,titleTip:m.eh?m.eh(q):m.instructions,type:"driving",beforeDomId:"trans_nav"},function(){e.Ob(i,n)}):e.Ob(i,n)}else if(2===l)if(1===a&&!this.k.ed)m=this.Zq(0),e.Vf(m.ha?m.ha():m.ky[m.ky.length-1]),c.Wg&&e.Nc(17),this.cg&&this.cg.U();else if(this.Il[a- 1]&&(this.cg?(this.cg.ke(this.Il[a-1]),this.cg.show()):this.cg=V.Tl(e,this.Il[a-1],b.ep()+2),c.Wg))b=e.bt(this.cg.Hd()),17<b.zoom&&(b.zoom=17),e.zh(b)}}this.kb=a},_toggle:function(){var a=this.k.ka;if(a.Ia){var b=x.getElementsByClassName(a.Ia,"navtrans-res");b&&0<b.length&&(b=b[0],b.style.display=b&&"none"===b.style.display?"":"none");if((a=x.getElementsByClassName(a.Ia,"navtrans-view"))&&0<a.length)a=a[0],x.K.H_(a)}},Kj:function(){var a=this.k.ka.map;if(a){for(var b=0,c=this.wa.length;b<c;b++)a.Ub(this.wa[b]), this.wa[b]=p;this.wa.length=0;a.Ub(this.cg);this.cg=p;if(this.aa){this.aa.qd&&(a.Ub(this.aa.qd),this.aa.qd=p);this.aa.le&&(a.Ub(this.aa.le),this.aa.le=p);b=0;for(c=this.aa.Zg.length;b<c;b++)a.Ub(this.aa.Zg[b]),this.aa.Zg[b]=p;this.aa.Zg.length=0;this.aa.Fo&&(a.Ub(this.aa.Fo),this.aa.Fo=p);b=0;for(c=this.aa.ss.length;b<c;b++)a.Ep(this.aa.ss[b]),this.aa.ss[b]=p;this.aa.ss.length=0;this.aa.Zx=q}}},_delVia:function(a){if(this.ja){var b=this.ja.rj(),c=this.ja.fh();this.aa.Lb.splice(a,1);this.EB();this.Vz(b, c)}},Gl:function(){if(this.k.ka.Ia&&this.k.ka.Ia.appendChild&&this.ja&&0<this.ja.ux()){var a=this.ja.pf(0),b=K("div",{style:"font:12px "+F.fontFamily+";background:#fff"}),c=this.aa.Ci,d=c.length,e=[],f=this.ud===kd,f=vd.sH(this.ja.fh().title,f?"\\u9a7e\\u8f66":"\\u6b65\\u884c",0<d);if(0<d){e.push("<table style=\'width:100%;margin-left:4px;font:12px "+F.fontFamily+";border-collapse:collapse\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>");for(var g=0;g<d;g++)e.push("<tr>"),0===g&&(1===d?e.push(\'<td style="padding:2px 5px;line-height:20px">\\u9014\\u7ecf\\u70b9</td>\'): e.push(\'<td valign="top" rowspan="\'+d+\'" style="padding:2px 5px;line-height:18px">\\u9014\\u7ecf\\u70b9</td>\')),e.push(\'<td style="padding:2px 5px;line-height:20px">\'+c[g].title+"</td>"),e.push(\'<td style="padding:2px 10px;line-height:20px;cursor:pointer;color:#0000ff" onclick=\\\'Instance("\'+this.ba+\'")._delVia(\'+c[g].curNo+")\'>\\u5220\\u9664</td>"),e.push("</tr>");e.push("</table>")}for(var c=vd.tH(this.ja.rj().title,\'Instance("\'+this.ba+\'")._select(0)\',0),d=["<table class=\'navtrans-table\' style=\'width:100%;font:12px "+ F.fontFamily+";border-collapse:collapse\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>"],i=0,k=0,l=a.Ys();k<l;k++)for(var m=a.hh(k),g=0,m=m.vx();g<m;g++){var n="";this.kb===i+1&&(n=";background:#f0f0f0");d.push(\'<tr style="cursor:pointer\'+n+\'" onclick=\\\'Instance("\'+this.ba+\'")._select(\'+(i+1)+")\'>");d.push("<td style=\'border-bottom:1px solid #E4E6E7;padding:10px;line-height:20px;\' >"+(this.Zq(i).eh?this.Zq(i).eh():this.Zq(i).instructions)+"</td>");d.push("</tr>");i++}d.push("</table>");g=vd.tH(this.ja.fh().title, \'Instance("\'+this.ba+\'")._select(\'+(i+1)+")",1);a="<div class=\'navtrans-view expand\' style=\'position:relative;color:#7777cc;background:#e5ecf9;height:53px;overflow:hidden;text-align:right\' onclick=\'Instance(\\""+this.ba+"\\")._toggle()\'><span class=\'suggest-plan\'>\\u63a8\\u8350</span><div class=\'suggest-plan-des\'>"+a.Te().replace(/(\\d+(?:.\\d+)?)/,"$1 ")+"&nbsp;&nbsp;|&nbsp;&nbsp;"+a.Ts().replace(/(\\d+)/,"$1 ")+"</div>";this.ja.moreResultsUrl&&(a+="<a style=\'color:#7777cc;position:absolute;top:5px;right:20px;\' href=\'"+ this.ja.moreResultsUrl+"\' target=\'_blank\'>\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b&#187;</a>");b.innerHTML=f+(a+"&nbsp;<span class=\'navtrans-arrow\'></span></div>")+("<div class=\'navtrans-res\'>"+e.join("")+c+d.join("")+g+"</div>");this.k.ka.Ia.appendChild(b);this.Sa(W.Au,b)}},oA:function(a,b){if(""===b||!b)if(9===a||12===a||1===a||16===a)b=yd.CP[a];return b},mS:function(a){var b="",c=a.poi;c&&(b=this.LH(c.ps)||"",b=(this.MH(c.pw)||"")+b+"<b>"+c.pn+"</b>"+(c.pd<(13===a.pa||4===a.pa?1E3:50)?"":"\\u7ea6"+ qh(c.pd)+"\\u540e")+(""===b?"":"\\uff0c"));return b},uS:function(a){var b=a.iw;return!a.ic?"":(this.HH(b)||"")+"<b>"+a.ic+"</b>"+(this.IH(b)||"")},qS:function(a,b){var c="\\u6cbf";if(0===a||!b&&1!==a&&16!==a&&9!==a&&12!==a)c="";return c},pS:function(a,b){var c="\\u8fdb\\u5165";if(!b&&(9===a||12===a))c="\\u4e0a";else if(0===a||!b&&1!==a&&16!==a)c="";return c},tS:function(){if(this.Fa&&this.Fa.content&&this.Fa.content.taxi){var a=this.Fa.content.taxi,b={distance:a.dis,remark:a.remark};if(a.detail[0]){var c= a.detail[0];b.day={initialFare:parseFloat(c.startPrice),unitFare:parseFloat(c.kmPrice),totalFare:parseFloat(c.totalPrice)}}a.detail[1]&&(a=a.detail[1],b.night={initialFare:parseFloat(a.startPrice),unitFare:parseFloat(a.kmPrice),totalFare:parseFloat(a.totalPrice)});return b}return p}});zd.kz=" \\u76f4\\u884c \\u53f3\\u524d\\u65b9\\u8f6c\\u5f2f \\u53f3\\u8f6c \\u53f3\\u540e\\u65b9\\u8f6c\\u5f2f \\u8c03\\u5934 \\u5de6\\u540e\\u65b9\\u8f6c\\u5f2f \\u5de6\\u8f6c \\u5de6\\u524d\\u65b9\\u8f6c\\u5f2f \\u9760\\u5de6 \\u76f4\\u884c \\u9760\\u53f3 \\u6b63\\u5317\\u65b9\\u5411 \\u4e1c\\u5317\\u65b9\\u5411 \\u6b63\\u4e1c\\u65b9\\u5411 \\u4e1c\\u5357\\u65b9\\u5411 \\u6b63\\u5357\\u65b9\\u5411 \\u897f\\u5357\\u65b9\\u5411 \\u6b63\\u897f\\u65b9\\u5411 \\u897f\\u5317\\u65b9\\u5411".split(" "); zd.iz=["","\\u4ece\\u8d77\\u70b9\\u51fa\\u53d1","\\u5230\\u8fbe\\u76ee\\u7684\\u5730","\\u9014\\u7ecf\\u70b9","\\u884c\\u9a76"];zd.mq="s-1 s-1 s-2 s-3 s-4 s-5 s-6 s-7 s-8 s-9 s-1 s-10        ".split(" ");zd.bz=["\\u5728","\\u4ece","\\u4ece"];zd.cz=["","","\\u79bb\\u5f00"];zd.hz=["\\u8fc7","\\u5728"];zd.fz=["\\u5de6\\u4fa7\\u7684","\\u53f3\\u4fa7\\u7684",""];zd.Xy=["","\\u671d"]; x.extend(zd.prototype,{Zu:function(a){return new lh(a)},jv:function(a){return zd.kz[a]},OH:function(a){return\'<span class="navtrans-navlist-icon \'+(zd.mq[a]?zd.mq[a]:"")+\'"></span>\'},nA:function(a){return zd.iz[a]},HH:function(a){return zd.bz[a]},IH:function(a){return zd.cz[a]},MH:function(a){return zd.hz[a]},LH:function(a){return zd.fz[a]},CH:function(a){return zd.Xy[a]}});Ad.kz=" \\u76f4\\u8d70 \\u5411\\u53f3\\u524d\\u65b9\\u8f6c \\u53f3\\u8f6c \\u5411\\u53f3\\u540e\\u65b9\\u8f6c \\u5411\\u540e\\u8f6c \\u5411\\u5de6\\u540e\\u65b9\\u8f6c \\u5de6\\u8f6c \\u5411\\u5de6\\u524d\\u65b9\\u8f6c \\u5de6\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u7ee7\\u7eed\\u5411\\u524d \\u53f3\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u7ee7\\u7eed\\u5411\\u524d \\u5de6\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u5f80\\u56de\\u8d70 \\u53f3\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u5f80\\u56de\\u8d70 \\u6b63\\u5317\\u65b9\\u5411 \\u4e1c\\u5317\\u65b9\\u5411 \\u6b63\\u4e1c\\u65b9\\u5411 \\u4e1c\\u5357\\u65b9\\u5411 \\u6b63\\u5357\\u65b9\\u5411 \\u897f\\u5357\\u65b9\\u5411 \\u6b63\\u897f\\u65b9\\u5411 \\u897f\\u5317\\u65b9\\u5411    ".split(" "); Ad.mq="s-1 s-1 s-2 s-3 s-4 s-5 s-6 s-7 s-8 s-7 s-3 s-7 s-3            ".split(" ");Ad.iz=["","\\u4ece\\u8d77\\u70b9\\u51fa\\u53d1","\\u5230\\u8fbe\\u76ee\\u7684\\u5730","\\u9014\\u7ecf\\u70b9","\\u8d70"];Ad.bz=["\\u5728","\\u4ece","\\u4ece"];Ad.cz=["","","\\u79bb\\u5f00"];Ad.hz=["\\u8fc7","\\u5728"];Ad.fz=["\\u5de6\\u4fa7\\u7684","\\u53f3\\u4fa7\\u7684",""];Ad.Xy=["","\\u671d"]; x.extend(Ad.prototype,{Zu:function(a){delete a.url;return new mh(a)},jv:function(a){return Ad.kz[a]},OH:function(a){return\'<span class="navtrans-navlist-icon \'+(Ad.mq[a]?Ad.mq[a]:"")+\'"></span>\'},nA:function(a){return Ad.iz[a]},HH:function(a){return Ad.bz[a]},IH:function(a){return Ad.cz[a]},MH:function(a){return Ad.hz[a]},LH:function(a){return Ad.fz[a]},CH:function(a){return Ad.Xy[a]}});x.extend(Ed.prototype,{Qd:function(a,b,c){this.NL("web",this.JL(a,b,c))},NN:function(a,b,c){this.NL("web",this.JL(a,b,c))},ZN:function(a,b){var c=this.qh,d="";a&&a.wM&&a.name?(d=a.wM,d="latlng:"+d.lat+","+d.lng,d+="|name:"+a.name):d=(d=a.wM)?d.lat+","+d.lng:a.name?a.name:"";c[b]=d},JL:function(a,b,c){this.ZN(a,"origin");this.ZN(b,"destination");var c=this.qh=x.object.extend(this.qh,c),a=[],d="";if("undefined"===typeof c.origin||""===c.origin)c.origin="";var b={destination:q,mode:q},e;for(e in c)d= e+"="+c[e],a.push(d),"undefined"!==typeof b[e]&&(b[e]=o);this.mode=c.mode;b.mode===q&&(this.mode="driving",a.push("mode=driving"),b.mode=o);e=o;for(var f in b)e=e&&b[f];return e?a.join("&"):q},NL:function(a,b,c){b&&(b=jh[a]+b+"&src=baidu|jsapi",Qa(7E3,{mode:this.mode}),"web"===a&&(b+="&output=html"),location.href=b,c&&c())}}); ');